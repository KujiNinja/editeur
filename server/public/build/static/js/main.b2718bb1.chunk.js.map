{"version":3,"sources":["service/firebase.js","context/AuthContext.js","Components/Logo/Logo.js","Components/Header/Header.js","Components/Login/Login.js","Components/SignUp/SignUp.js","Components/User/User.js","Components/Footer/Footer.js","Components/ProjectTeam/ProjectTeam.js","Components/MainUp/MainUp.js","Components/BooksList/zaglushka.js","Components/MainDown/MainDown.js","redux/actionTypes/actionTypes.js","redux/reduxThunk/asyncFunc.js","redux/actionCreators/actionCreators.js","redux/reducer.js","redux/store.js","Components/AddBook/AddBook.js","Components/InfoBook/InfoBook.js","Components/PublishedBook/PublishedBook.js","Components/BoughtBook/BoughtBook.js","Components/Reader/Reader.js","Components/TestUpload/TestUpload.js","Components/BooksList/BooksList.js","Components/Edit/Edit.js","Components/App/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","firestore","storage","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","unsubscribe","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","saveUserDB","emailAddress","dateCreated","uplBooks","purBooks","collection","doc","set","saveBookDB","title","description","cover","file","price","demo","backFileName","add","Provider","Logo","props","className","Header","history","useHistory","error","setError","a","push","to","onClick","Login","emailRef","useRef","passwordRef","e","preventDefault","current","message","googleSignup","provider","GoogleAuthProvider","signInWithPopup","uid","get","then","req","console","log","exists","Date","now","onSubmit","required","ref","type","name","placeholder","disabled","SignUp","confirmPasswordRef","newUser","User","setuplBooks","setpurBooks","booksNum","setBooksNum","setBooksNum1","data","length","map","el","prev","id","document","querySelector","classList","remove","src","alt","bookauthor","Math","random","image","author","Footer","href","ProjectTeam","MainUp","zaglushka","MainDown","carousels","i","floor","Carousel","Item","Caption","ADD_FILE","GET_FILE","fetchAddFile","dispatch","fetch","method","body","res","json","payload","fetchGetFile","responseType","headers","JSON","stringify","blob","initialState","reducer","state","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","AddBook","useDispatch","useSelector","setUrl","setImage","setProgress","caption","setCaption","pdfName","setPdfName","showRules","toggle","encType","pdfBack","formData","FormData","append","target","files","getState","pages","from","put","on","snapshot","progress","round","bytesTransferred","totalBytes","child","getDownloadURL","url","displayName","timestamp","FieldValue","serverTimestamp","book","update","arrayUnion","catch","err","saveFile","htmlFor","onChange","setImageName","style","display","accept","click","setFileName","min","readOnly","InfoBook","params","useParams","setBook","book1","PublishedBook","delete","arrayRemove","download","BoughtBook","Reader","showFrom","setShowFrom","showTo","setShowTo","numPages","setNumPages","pageNumber","setPageNumber","disabledChange","Number","lastPage","TestUpload","pdfjs","GlobalWorkerOptions","workerSrc","version","BooksList","settings","dots","infinite","speed","slidesToShow","ceil","documentElement","clientWidth","slidesToScroll","books","setBooks","snap","forEach","sort","b","Edit","merge","defaultValue","App","exact","path","ReactDOM","render","Fragment","getElementById"],"mappings":"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","file":"static/js/main.b2718bb1.chunk.js","sourcesContent":["import firebase from \"firebase\"\nimport \"firebase/auth\"\nimport \"firebase/firestore\"\n\nfirebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n})\n\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nexport const storage = firebase.storage()\n","import React, { useContext, useEffect, useState } from 'react';\nimport { auth, firestore } from '../service/firebase'\n// import firebase from 'firebase'\n\nconst AuthContext = React.createContext()\n\nexport function useAuth() {\n  return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }) {\n\n  const [currentUser, setCurrentUser] = useState();\n  const [loading, setLoading] = useState(false);\n\n  function signup(email, password) {\n    return auth.createUserWithEmailAndPassword(email, password)\n  }\n\n  function login(email, password) {\n    return auth.signInWithEmailAndPassword(email, password)\n  }\n\n  function logout() {\n    return auth.signOut()\n  }\n\n  function saveUserDB(user, emailAddress, dateCreated, uplBooks = [], purBooks = []) {\n    return firestore\n      .collection('users')\n      .doc(user)\n      .set({\n        emailAddress, dateCreated, uplBooks, purBooks\n      });\n  }\n\n\n  function saveBookDB(title, description, cover, file, price, demo = [], backFileName) {\n    return firestore\n      .collection('books')\n      .add({\n        title, description, cover, file, price, demo, backFileName\n      });\n  }\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setLoading(false)\n      setCurrentUser(user)\n    })\n\n    return () => unsubscribe();\n  }, [])\n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    saveUserDB,\n    saveBookDB\n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n","import React from 'react';\nimport './Logo.scss'\n\nfunction Logo(props) {\n  return (\n    <span className=\"logo\">ÉDITEUR</span>\n  );\n}\n\nexport default Logo;\n","import React, { useState } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from '../../context/AuthContext';\nimport Logo from '../Logo/Logo'\nimport './Header.scss'\n\n\nfunction Header() {\n\n  const history = useHistory();\n  const [error, setError] = useState('');\n  const { currentUser, logout } = useAuth();\n\n  async function handleLogout() {\n    setError('')\n    try {\n      await logout()\n      history.push('/')\n    } catch {\n      setError(\"Failed to log out\")\n    }\n  }\n\n  return (\n    <nav className=\"header\">\n      <Link to=\"/\" className=\"header__link\"><Logo /></Link>\n      <ul className=\"header__links\">\n        <li className=\"header__link\">\n          <Link to=\"/\" className=\"header__link link\">Главная</Link>\n        </li>\n        <li className=\"header__link\">\n          <Link to=\"/books\" className=\"header__link link\">Книги</Link>\n        </li>\n        <li className=\"header__link\">\n          {currentUser ?\n            <Link to=\"/user\" className=\"header__link link\">Кабинет</Link> :\n            <Link to=\"/login\" className=\"header__link link\">Кабинет</Link>\n          }\n\n        </li>\n        {error && <p>{error}</p>}\n        {currentUser === null ?\n          <li className=\"header__link\">\n            <Link to=\"/login\" className=\"header__link link\">Войти</Link>\n          </li> :\n          <li className=\"header__link\">\n            <Link to=\"/\" onClick={handleLogout} className=\"header__link link\">Выйти</Link>\n          </li>\n        }\n      </ul>\n    </nav>\n  )\n}\n\nexport default Header;\n","import firebase from \"firebase\"\nimport React, { useRef, useState } from 'react';\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useAuth } from \"../../context/AuthContext\";\n\n\nfunction Login() {\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const history = useHistory();\n  const { saveUserDB, login, currentUser } = useAuth();\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError('')\n      setLoading(true)\n      await login(emailRef.current.value, passwordRef.current.value)\n      history.push('/')\n  \n    } catch (error) {\n      setError(error.message)\n      setLoading(false)\n    }\n  }\n\n  const googleSignup = async () => {\n    try {\n      setError('')\n      setLoading(true)\n      var provider = new firebase.auth.GoogleAuthProvider()\n      const { user } = await firebase.auth().signInWithPopup(provider)\n\n      let userExists = await firebase.firestore().collection('users').doc(user.uid).get().then(req => console.log(req.exists))\n      if (!userExists) {\n        await saveUserDB(\n          user.uid,\n          user.email,\n          Date.now(),\n        )\n      }\n      history.push('/')\n\n    } catch (error) {\n      setError(error.message)\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className='background flex_center'>\n      <div className=\"wrapper-white\">\n        {error && <p>{error}</p>}\n        <button onClick={googleSignup} className='button button-icon'>Sign in via Google account</button>\n        <form onSubmit={handleSubmit} className='modal_form'>\n          <div className=\"color_dark mb-1 font-12\">Введите логин и пароль</div>\n          <input required ref={emailRef} className='auth input mb-1 color-light' type='email' name='email' placeholder='Email' />\n          <input required ref={passwordRef} className='auth input mb-1 color-light' type='password' name='password' placeholder='Password' />\n          <button disabled={loading} type='submit' className='button button-entrance mb-1'>Войти</button>\n          <div className=\"color_dark\">У вас ещё нет аккаунта? <Link className='link link_dark' to=\"/signup\">Зарегистрироваться</Link></div>\n        </form>\n      </div>\n    </div>\n\n  );\n}\n\nexport default Login;\n","import React, { useRef, useState } from 'react';\nimport { useAuth } from '../../context/AuthContext'\nimport { Link, useHistory } from \"react-router-dom\"\n\n\nfunction SignUp() {\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const confirmPasswordRef = useRef();\n  const history = useHistory();\n\n  const { signup, saveUserDB } = useAuth();\n\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (passwordRef.current.value !== confirmPasswordRef.current.value) {\n      return setError('Passwords do not match!')\n    }\n\n    try {\n      setError('')\n      setLoading(true)\n      const newUser = await signup(emailRef.current.value, passwordRef.current.value)\n      \n      await saveUserDB(\n        newUser.user.uid,\n        emailRef.current.value,\n        Date.now(),\n      )\n      history.push('/')\n\n    } catch (error) {\n      setError(error.message)\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div>\n      <div className='background flex_center'>\n      <div className=\"wrapper-white\">\n        {error && <p>{error}</p>}\n        <form onSubmit={handleSubmit} className='modal_form'>\n          <div className=\"color_dark mb-1 font-12\">Введите свои данные</div>\n          <input required ref={emailRef} className='auth input mb-1 color-light' type='email' name='email' placeholder='Email' />\n          <input required ref={passwordRef} className='auth input mb-1 color-light' type='password' name='password' placeholder='Password' />\n          <input required ref={confirmPasswordRef} className='auth input mb-1 color-light' type='password' name='phone' placeholder='Confirm password' />\n          <button disabled={loading} type='submit' className='button button-entrance mb-1'>Регистрация</button>\n          <div className=\"color_dark\">Уже есть аккаунт? <Link className='link link_dark link_dark_narrow' to=\"/login\">Войти</Link></div>\n        </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUp;\n","import React, { useEffect, useState } from \"react\";\n// import zaglushka from '../BooksList/zaglushka'\nimport { Link } from 'react-router-dom'\nimport './User.scss'\nimport firebase from 'firebase'\nimport { useAuth } from \"../../context/AuthContext\";\n\nfunction User() {\n  // const pubBook = ''\n  const [uplBooks, setuplBooks] = useState([])\n  const [purBooks, setpurBooks] = useState([])\n\n  const [booksNum, setBooksNum] = useState(null)\n  const [booksNum1, setBooksNum1] = useState(null)\n  // const pubBook = [...zaglushka].splice(0, 5)\n  const { currentUser } = useAuth()\n\n  function uplBook() {\n    // console.log('curr user',currentUser);\n    if (currentUser) {\n      firebase.firestore().collection('users').doc(currentUser?.uid).get().then(req => {\n        setBooksNum(req.data()?.uplBooks?.length);\n        return (\n          req.data()?.uplBooks.map(el => {\n            return (\n              firebase.firestore().collection('books').doc(el).get().then(req => {\n                setuplBooks((prev) => [...prev, [req.data(), req.id]])\n              })\n            )\n          })\n        )\n      })\n    }\n  }\n\n  function purBook() {\n    if (currentUser) {\n      firebase.firestore().collection('users').doc(currentUser?.uid).get().then(req => {\n        setBooksNum1(req.data()?.purBooks?.length);\n        return (\n          req.data()?.purBooks.map(el => {\n            return (\n              firebase.firestore().collection('books').doc(el).get().then(req => {\n                setpurBooks((prev) => [...prev, [req.data(), req.id]])\n              })\n            )\n          })\n        )\n      })\n    }\n  }\n\n  // loadBooks()\n  useEffect(() => {\n    uplBook()\n    purBook()\n  }, [currentUser])\n\n\n  function disabledChange() {\n    document.querySelector('.btn-published').classList.add('disabled')\n    document.querySelector('.btn-bought').classList.remove('disabled')\n    document.querySelector('.publishedBooks').classList.remove('box-invisible')\n    document.querySelector('.boughtBooks').classList.add('box-invisible')\n  }\n  function disabledChange1() {\n    document.querySelector('.btn-published').classList.remove('disabled')\n    document.querySelector('.btn-bought').classList.add('disabled')\n    document.querySelector('.publishedBooks').classList.add('box-invisible')\n    document.querySelector('.boughtBooks').classList.remove('box-invisible')\n  }\n\n  return (\n    <div className=\"background\">\n      <div className=\"pt-3\">\n        <Link to={`/${currentUser?.uid}/addbook`} className='button'><button className='button buttonBook margin2 mb-4 mt-5'>Опубликовать книгу</button></Link>\n      </div>\n      <div className=\"flex_row\">\n        <button onClick={disabledChange} className=\"btn-published button ml-5 mr-3 disabled\">Опубликованные книги</button>\n        <button onClick={disabledChange1} className=\"btn-bought button\">Купленные книги</button>\n      </div>\n      <div>\n        <div className=\"publishedBooks\">\n          <h4 className='h4office ml-5'>Опубликованные</h4>\n          <div className=\"bookWindow blockBooks1 flex_center\" >\n            <div className=\"books-box\">\n              {uplBooks.length === booksNum && uplBooks.map(el => {\n                return (\n                  <div key={Math.random()} className='oneBook flex_center flex_column'>\n                    <Link to={`/user/pub/${el[1]}`}><img className=\"slider-card_img\" src={el[0]?.cover} alt=\"book\" /></Link>\n                    <h6 className=\"slider-card_title slider-text\">{el[0]?.title}</h6>\n                    <h6 className=\"slider-card_author slider-text\">{el[0]?.bookauthor}</h6>\n                  </div>\n                )\n              })}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"boughtBooks box-invisible\">\n          <h4 className='h4office ml-5'>Купленные</h4>\n\n          <div className=\"bookWindow blockBooks1 flex_center\" >\n            <div className=\"books-box\">\n              {purBooks.map(el => {\n                return (\n                  <div key={Math.random()} className='oneBook flex_center flex_column'>\n                    <Link to={`/user/bought/${el[1]}`}><img className=\"slider-card_img\" src={el.image} alt=\"book\" /></Link>\n                    <h6 className=\"slider-card_title slider-text\">{el.title}</h6>\n                    <h6 className=\"slider-card_author slider-text\">{el.author}</h6>\n                  </div>\n                )\n              })}\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n\n\n    </div>\n  );\n}\n\nexport default User;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport './Footer.scss'\n\n\nfunction Footer(props) {\n  return (\n    <nav className=\"footer\">\n      <ul className=\"footer__links flex_row\">\n        <li className=\"copyright footer__box\">&#169; 2021 Editeur</li>\n        <li className=\"footer__box flex_center\">\n          <Link to=\"/\" className=\"footer__link text-center\">Главная</Link>\n          <Link to=\"/books\" className=\"footer__link text-center\">Книги</Link>\n          <Link to=\"/projectTeam\" className=\"footer__link text-center\">Контакты</Link>\n        </li>\n        <li className=\"footer__box footer__link_right\">\n          <a href=\"https://github.com/nikitoi/no-publishers-project\" className=\"footer__a github footer__link\"><img className=\"github\" src=\"./images/github5.png\" alt=\"github-icon\" /></a>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ProjectTeam(props) {\n  return (\n    <div>\n      <h3>НАША КоМАНДА</h3>\n    </div>\n  );\n}\n\nexport default ProjectTeam;\n","import React from 'react';\nimport './MainUp.scss';\n\nfunction MainUp(props) {\n  return (\n    <div className=\"mainup\">\n      <a name=\"mainup\">\n      <div className=\"mainup__title\">\n        <h1 className=\"mainup__title_header\">Main Header</h1>\n        <p className=\"mainup__title_text\">some text about us</p>\n      </div>\n      <div className=\"mainup__image\">\n        <img className=\"mainup__image_img\" src=\"./images/typewriter.png\" alt=\"Печатная машинка\" />\n      </div>\n      <div className=\"mainup__arrow\">\n        <a href=\"#maindown\"><img src=\"./images/down-arrow.png\" className=\"arrow-down\" alt=\"arrow-down\" /></a>\n      </div>\n      </a>\n    </div>\n  );\n}\n\nexport default MainUp;\n","const zaglushka = [\n  {\n    title: 'Commonwealth',\n    author: \"Ann Patchett\",\n    image: './images/books/1.jpeg',\n  },\n  {\n    title: 'The Ocean at the End of the Lane',\n    author: \"Neil Gaiman\",\n    image: './images/books/2.jpeg',\n  },\n  {\n    title: 'The Hidden Life of Trees',\n    author: \"Peter Wohlleben\",\n    image: './images/books/3.jpg',\n  },\n  {\n    title: 'The Subtle Art of Not Giving a F**k',\n    author: \"Mark Manson\",\n    image: '/images/books/4.jpg',\n  },\n  {\n    title: 'Finding My Badass Self',\n    author: \"Sherry Stanfa-Stanley\",\n    image: '/images/books/5.jpg',\n  },\n  {\n    title: 'Eat That Frog',\n    author: \"Brian Tracy\",\n    image: '/images/books/6.jpeg',\n  },\n  {\n    title: 'Bad Feminist',\n    author: \"Roxane Gay\",\n    image: '/images/books/7.jpg',\n  },\n  {\n    title: 'Emotional Intelligence',\n    author: \"John Allen\",\n    image: '/images/books/8.jpg',\n  },\n  {\n    title: 'The Throwaway Children',\n    author: \"Diney Costeloe\",\n    image: '/images/books/9.jpeg',\n  },\n  {\n    title: 'Эшелон на Самарканд',\n    author: \"Гузель Яхина\",\n    image: '/images/books/10.jpg',\n  },\n  {\n    title: 'Тревожные люди',\n    author: \"Фредрик Бакман\",\n    image: '/images/books/11.jpg',\n  },\n  {\n    title: 'Загадка номера 622',\n    author: \"Жоэль Диккер\",\n    image: '/images/books/12.jpg',\n  },\n  {\n    title: 'Магия утра. Как первый час дня определяет ваш успех',\n    author: \"Хэл Элрод\",\n    image: '/images/books/13.jpg',\n  },\n  {\n    title: 'Выбор. О свободе и внутренней силе человека.',\n    author: \"Эдит Ева Эгер\",\n    image: '/images/books/14.jpg',\n  },\n  {\n    title: 'Принципы. Жизнь и работа',\n    author: \"Рэй Далио\",\n    image: '/images/books/15.jpg',\n  },\n  {\n    title: 'Эссенциализм. Путь к простоте',\n    author: \"Грег МакКеон\",\n    image: '/images/books/16.jpg',\n  },\n  {\n    title: 'Женщина, у которой есть план: правила счастливой жизни',\n    author: \"Мэй Маск\",\n    image: '/images/books/17.jpg',\n  },\n  {\n    title: 'Бетонное казино',\n    author: \"Сергей Смирнов\",\n    image: '/images/books/18.jpg',\n  },\n  {\n    title: 'Семь сестер. Сестра жемчуга',\n    author: \"Люсинда Райли\",\n    image: '/images/books/19.jpg',\n  },\n  {\n    title: 'Полное руководство по методам, принципам и навыкам персонального коучинга',\n    author: \"Джули Старр\",\n    image: '/images/books/20.jpg',\n  },\n]\n\nexport default zaglushka\n","import React from 'react';\nimport './MainDown.scss'\nimport Carousel from 'react-bootstrap/Carousel'\nimport zaglushka from '../BooksList/zaglushka'\n\n\nfunction MainDown(props) {\n\n  const carousels = []\n  for (let i = 0; i < Math.floor(zaglushka.length / 3) * 3; i += 3) {\n    carousels.push([zaglushka[i], zaglushka[i + 1], zaglushka[i + 2]])\n  }\n  console.log(carousels);\n\n  return (\n    <div className=\"maindown\">\n      <div className=\"maindown__arrow\">\n        <a href=\"#mainup\"><img src=\"../images/down-arrow.png\" className=\"arrow-up\" alt=\"arrow-up\" /></a>\n      </div>\n      <a name=\"maindown\">\n      <Carousel >\n        {carousels?.map(el => {\n          return (\n            <Carousel.Item>\n              <div className=\"d-block w-100 blockBooks\">\n              </div>\n              <Carousel.Caption>\n                <div className='flex' >\n                  {el.map(el => {\n                    return (\n                      <div>\n                        <img className=\"slider-card_img\" src={el.image} alt=\"book\" />\n                        <h6 className=\"slider-card_title slider-text\">{el.title}</h6>\n                        <h6 className=\"slider-card_author slider-text\">{el.author}</h6>\n                      </div>\n                    )\n                  })}\n                </div>\n              </Carousel.Caption>\n            </Carousel.Item>\n          )\n        })}\n      </Carousel>\n      </a>\n    </div>\n  );\n}\n\nexport default MainDown;\n","export const ADD_FILE = 'ADD_FILE'\nexport const GET_FILE = 'GET_FILE'\n\n\n","import { addFileAC, getFileAC} from '../actionCreators/actionCreators'\n\n// инициализирует клиентов\nexport const fetchAddFile = (file) => {\n  return (dispatch) => {\n    \n    // fetch(process.env.REACT_APP_UPLOADFILE_URL,{\n    fetch('http://localhost:4000/testupl',{\n      method: 'POST',\n      body: file\n  })\n  .then(res => res.json())\n  // .then(data => console.log(data))\n  .then(data => dispatch(addFileAC(data)))\n}}\n\n// инициализирует студентов\nexport const fetchGetFile = (id) => {\n  return (dispatch) => {\n    // fetch(process.env.REACT_APP_GETFILE_URL, {\n      fetch('http://localhost:4000/read', { \n      \n      method: 'POST',\n      responseType: 'blob',\n      headers: { 'Content-Type' : 'Application/json' },\n      body: JSON.stringify({id: id})\n    })\n    .then(async res => res.blob([res.data], {type: 'application/pdf'}))\n    // .then(data => setFile(data))\n  // .then(data => console.log(data))\n    .then(data => dispatch(getFileAC(data)))\n  }\n}\n","import { ADD_FILE, GET_FILE} from '../actionTypes/actionTypes'\n\n// clients\nexport const addFileAC = (payload) => {\n  return {\n    type: ADD_FILE,\n    payload\n  }\n}\n\n// students\nexport const getFileAC = (payload) => {\n  return {\n    type: GET_FILE,\n    payload\n  }\n}\n","import { ADD_FILE, GET_FILE} from './actionTypes/actionTypes'\n\nconst initialState = { title: 'books', backFileName: '', file: [] }\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n\n    case ADD_FILE:\n      return { ...state, backFileName: action.payload }\n\n    case GET_FILE:\n      return { ...state, file: action.payload }\n\n    default:\n      return state\n  }\n}\n\nexport default reducer\n","import { createStore, applyMiddleware } from 'redux'\nimport reducer from './reducer'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store\n","import React, { useEffect, useState, useRef } from 'react';\nimport {fetchAddFile} from '../../redux/reduxThunk/asyncFunc'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useAuth } from \"../../context/AuthContext\";\nimport store from '../../redux/store'\nimport firebase from 'firebase';\nimport './AddBook.scss'\nimport { useHistory } from 'react-router';\n\nfunction AddBook(props) {\n\n  const dispatch = useDispatch()\n  let state = useSelector(state => state)\n  let backFileName = state.backFileName\n  const history = useHistory()\n\n  const { currentUser } = useAuth();\n  const [url, setUrl] = useState('')\n\n  const [image, setImage] = useState(null);\n  const [progress, setProgress] = useState(0);\n  const [caption, setCaption] = useState('');\n\n  function saveFile(e) {\n\n    let formData = new FormData()\n    formData.append('file', e.target.file.files[0])\n\n    let pdfBack\n\n    e.preventDefault()\n\n    fetch('http://localhost:4000/testupl', {\n      method: 'POST',\n      // headers: { 'Content-Type' : 'multipart/form-data' },\n      body: formData\n    })\n      .then(res => res.json())\n      .then(data => pdfBack = data)\n\n    \n    // dispatch(fetchAddFile(formData))\n\n      const currStore = store.getState()\n      const pdfName = currStore.backFileName\n\n      const title = e.target.title.value\n      const bookauthor = e.target.bookauthor.value\n      const description = e.target.description.value\n      const pages = [e.target.from.value, e.target.to.value]\n      const price = e.target.price.value\n  \n      const uploadTask = firebase.storage().ref(`books/${image?.name}`).put(image);\n      uploadTask.on(\n        \"state_changed\",\n        (snapshot) => {\n          // progress function ...\n          const progress = Math.round(\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n          );\n          setProgress(progress);\n        },\n        (error) => {\n          // Error function ...\n          console.log(error);\n        },\n        () => {\n          // complete function ...\n          firebase.storage()\n            .ref(\"books\")\n            .child(image?.name)\n            .getDownloadURL()\n            .then((url) => {\n              setUrl(url);\n  \n              // post image inside db\n              firebase.firestore()\n                .collection(\"books\").add({\n                  title,\n                  bookauthor,\n                  description,\n                  cover: url,\n                  price,\n                  demo: pages,\n                  backFileName: pdfBack,\n                  caption: caption,\n                  author: currentUser.displayName,\n                  timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                })\n\n                  .then(book => {\n                    // push id to user\n                    // console.log(book.id);\n                    console.log(currentUser.uid);\n    \n                    return firebase.firestore()\n                      .collection('users')\n                      // .where('userId', '==', currentUser.uid)\n                      // .get()\n                      .doc(currentUser.uid)\n                      .update({ uplBooks: firebase.firestore.FieldValue.arrayUnion(book.id) })\n                      // .set({ uplBooks: firebase.firestore.FieldValue.arrayUnion(book.id) }, {merge: true})\n    \n                  }).then((res)=> console.log(res)).catch(err => console.log(err.message))\n                \n  \n              setProgress(0);\n              setCaption(\"\");\n              setImage(null);\n            });\n        }\n      );\n\n    history.push('/user')\n    // window.location = '/user'\n\n    // let formData = new FormData()\n    // formData.append('file', e.target.file.files[0])\n\n    // fetch('http://localhost:4000/testupl', {\n    //   method: 'POST',\n    //   // headers: { 'Content-Type' : 'multipart/form-data' },\n    //   body: formData\n    // })\n    //   .then(res => res.json())\n    //   .then(data => pdfBack = data)\n  }\n\n  let [pdfName, setPdfName] = useState('')\n\n  function pickImg() {\n    document.querySelector('#img-input')?.click()\n  }\n\n  function pickFile() {\n    document.querySelector('#file')?.click()\n  }\n\n  function setFileName(e) {\n    setPdfName(e.target.files[0].name)\n  }\n\n  function setImageName(e) {\n    setImage(e.target.files[0])\n  }\n\n  function showRules() {\n    const popup = document.querySelector('.popup')\n    popup.classList.toggle('popup_opened')\n  }\n\n  function showPageNums() {\n    const pages = document.querySelector('.pages-box')\n    pages.classList.toggle('hidden')\n  }\n\n\n  return (\n    <div className='background  flex_center'>\n      <div className=\"wrapper-white\">\n        {/* <progress value={progress} max=\"100\" /> */}\n        {/* <img src={url} alt='img' /> */}\n        <form className='formAddBook modal_form' encType=\"multipart/form-data\" method=\"post\" action=\"/testupl\" onSubmit={(e) => saveFile(e)}>\n\n          <input className='auth input mb-1 wide-input color-light' name='title' type='text' required placeholder='Название книги' />\n          <input className='auth input mb-1 wide-input color-light' name='bookauthor' type='text' required placeholder='Автор' />\n          <textarea className='auth input mb-1 input-textarea wide-input color-light' name='description' required type='text' placeholder='Описание' ></textarea>\n\n          <div className=\"flex_center add-book_add-file wide-input\">\n            <label htmlFor=\"file-input\" className=\"color_dark mb-1 add-book_label\">Выберите фото</label>\n            <input id=\"img-input\" onChange={(e) => setImageName(e)} className=\"file_input\" style={{ display: \"none\" }} type=\"file\" required name=\"image\" accept=\"image/*,image/jpeg\" />\n            <div className=\"color_dark mb-1 add-book_label\">{image?.name}</div>\n            <input type=\"button\" className=\"file_input input mb-1 color-light\" id=\"loadFileXml\" value=\"img\" onClick={pickImg} />\n          </div>\n\n          <div className=\"flex_center add-book_add-file wide-input\">\n            <label htmlFor=\"file-input\" className=\"color_dark mb-1 add-book_label\">Выберите файл</label>\n            <input id=\"file\" onChange={(e) => setFileName(e)} className=\"file_input\" style={{ display: \"none\" }} type=\"file\" required name=\"upload\" accept=\"application/pdf\" />\n            <div className=\"color_dark mb-1 add-book_label\">{pdfName}</div>\n            <input type=\"button\" className=\"file_input input mb-1 color-light\" id=\"loadFileXml\" value=\".pdf\" onClick={pickFile} />\n          </div>\n\n          <input className='auth input mb-1 wide-input color-light' name='price' type='number' required placeholder='Укажите ценник в рублях' />\n\n          <div className=\"flex_center checkbox-pages flex_column\">\n            <div className=\"checkbox-box\">\n              <input id=\"checkbox-pages-id\" onChange={showPageNums} type=\"checkbox\" className=\"checkbox color-light\" />\n              <label htmlFor=\"checkbox-pages-id\" className=\"color_dark checkbox-title\">Добавить ознакомительную версию </label>\n            </div>\n\n            <div className=\"flex_center pages-box hidden\">\n              <label className=\"color_dark pages_label\">Показывать страницы </label>\n              <input className='auth input num-input' min='1' name='from' type='number' required placeholder='с' />\n              <div className=\"color_dark\"> - </div>\n              <input className='auth input num-input' name='to' type='number' required placeholder='по' />\n            </div>\n          </div>\n\n          <div className=\"flex_column add-book_add-file wide-input rules\">\n            <button type=\"button\" className=\"button wide-input text-center\" onClick={showRules}>Прочитайте правила нашей площадки</button>\n            <div className=\"flex_center checkbox-box\">\n              <input id=\"checkbox-id\" type=\"checkbox\" className=\"checkbox color-light\" required />\n              <label htmlFor=\"checkbox-id\" className=\"color_dark checkbox-title\">Ознакомлен/а </label>\n            </div>\n          </div>\n\n          <input className=\"button wide-input\" type=\"submit\" value=\"Опубликовать\" />\n\n        </form>\n\n      </div>\n\n      <div className=\"popup flex_center flex_column\">\n        <div className=\"popup-background\"></div>\n        <textarea readOnly className=\"textarea\">\n          {`    Правила публикации\n    Основные положения\n    1. Исполнитель обязуется оказать Заказчику услуги, указанные в соответствующих Приложениях к Договору (далее — «Услуги»), в отношении Произведений Заказчика, а Заказчик обязуется принять и оплатить оказанные Услуги в соответствии с условиями настоящего Договора.\n    2. Исполнитель при оказании Услуг вправе привлекать третьих лиц по своему усмотрению. При этом Исполнитель несет перед Заказчиком ответственность за действия таких привлеченных третьих лиц в рамках оказания Услуг, как за свои собственные действия.\n    3. Заказчик обязуется, заверяет и гарантирует, что:\n    • имеет соответствующие права в полном объеме, в том числе право использования, на все результаты интеллектуальной деятельности, изготавливаемые в рамках настоящего Договора согласно применимому законодательству.\n    • Произведение, а также иллюстративный материал (в том числе иллюстрации, используемые в оформлении обложки Произведения, либо готовая обложка, предоставленная Заказчиком) не содержит в себе авторского материала, права на который не принадлежат Заказчику.\n    • использование Произведения и/или иллюстративного материала в соответствии с положениями Договора не влечет за собой нарушения каких-либо прав и законных интересов третьих лиц.\n    4. В случае получения Исполнителем каких-либо требований, претензий и/или исков в отношении Произведения и/или иллюстративного материала, используемого в рамках настоящего Договора, Заказчик обязан предоставлять Исполнителю все имеющиеся у него документы, подтверждающие права Заказчика на такое Произведение и/или иллюстративный материал, в течение 3 (трех) рабочих дней с момента получения требования Исполнителя, а также гарантирует, что любые подобные требования, претензии и/или иски со стороны третьих лиц будут разрешены Заказчиком самостоятельно (без привлечения Исполнителя), от своего имени и за свой счет, а также возместить Исполнителю все понесенные им убытки вследствие вышеуказанного.\n\n    Ответственность Сторон. Прочие условия\n    11. Исполнитель, оказывая Услуги, не несет никакой ответственности за содержание и/или оформление Произведения, включая его текст, иллюстрации и/или обложку.\n    12. Не предусмотренная настоящим Договором ответственность применяется Сторонами в соответствии с действующим законодательством Российской Федерации.\n    13. Стороны несут ответственность за невыполнение или ненадлежащее выполнение своих обязанностей в порядке и пределах, предусмотренных действующим законодательством Российской Федерации.\n    14. Споры и разногласия между сторонами в процессе реализации Договора будут разрешаться путем переговоров.\n    15. При невозможности урегулирования споров и разногласий путем переговоров, такие споры и разногласия подлежат разрешению в судебном порядке в соответствии с действующим законодательством Российской Федерации.`}\n        </textarea>\n        <button type=\"button\" className=\"button wide-input text-center popup-close-btn\" onClick={showRules}>Закрыть</button>\n      </div>\n    </div>\n  );\n}\n\nexport default AddBook;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom'\nimport firebase from 'firebase'\nimport './InfoBook.scss'\n\nfunction InfoBook(props) {\n  const params = useParams()\n  const [book, setBook] = useState(null)\n\n  useEffect(() => {\n    firebase.firestore()\n      .collection('books')\n      .doc(params.id)\n      .get()\n      .then(book1 => {\n        if (book1.exists)\n          setBook(book1.data())\n      })\n\n  }, [setBook])\n\n  return (\n    <div className='background flex_center flex_column'>\n      <div className='bookWindow flex coverBig'>\n        <div className=\"mr-3\">\n          <img className='imgCover' src={book?.cover} alt={book?.title} />\n        </div>\n        <div className='bookInfo'>\n          <h3 className='color_dark titleBook' >{book?.title}</h3>\n          <h5 className='color_dark authorBook' >{book?.bookauthor}</h5>\n          <div className='summaryBook color_dark mt-5' >{book?.description}</div>\n        </div>\n      </div>\n      <div className='buttonList'>\n        <button className='button buttonBook butlist mr-3' >Купить</button>\n        <Link><button className='button buttonBook butlist' >Ознакомительная версия</button></Link>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoBook;\n","import React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom'\nimport { useParams } from 'react-router-dom'\n// import { Document, Page, pdfjs } from 'react-pdf';\nimport { PDFDownloadLink, Page, Text, View, Document, StyleSheet } from '@react-pdf/renderer';\nimport download from 'downloadjs';\nimport '../InfoBook/InfoBook'\nimport './PublishedBook.scss'\nimport firebase from 'firebase'\nimport { useAuth } from '../../context/AuthContext';\n\n\nfunction PublishedBook(props) {\n  const params = useParams()\n\n  const { currentUser } = useAuth()\n  // console.log(params);\n\n  const [book, setBook] = useState(null)\n  const history = useHistory()\n\n  function deleteBook() {\n    firebase.firestore()\n      .collection('books')\n      .doc(params.id)\n      .delete()\n      .then(req => {\n        console.log(req)\n        history.push('/user')\n      })\n\n    if (currentUser) {\n      firebase.firestore().collection('users').doc(currentUser?.uid).update({\n        uplBooks: firebase.firestore.FieldValue.arrayRemove(params.id)\n      })\n    }\n  }\n\n  useEffect(() => {\n    firebase.firestore()\n      .collection('books')\n      .doc(params.id)\n      .get()\n      .then(book1 => {\n        if (book1.exists)\n        setBook([book1.data(), book1.id])\n      })  \n\n  }, [setBook])\n\n  const [file, setFile] = useState(null)\n\n  // useEffect(() => {\n    // fetch('http://localhost:4000/read', {\n    //   method: 'POST',\n    //   responseType: 'blob',\n    //   headers: { 'Content-Type': 'Application/json' },\n    //   // headers: { 'Content-Type' : 'multipart/form-data' },\n    //   body: JSON.stringify({id: book?.backFileName})\n    // })\n    // .then(async res => res.blob([res.data], {type: 'application/pdf'}))\n    // .then(data => setFile(data))\n  // }, [])\n\n  function downloadPdf(){\n\n    fetch('http://localhost:4000/read', {\n      method: 'POST',\n      responseType: 'blob',\n      headers: { 'Content-Type': 'Application/json' },\n      // headers: { 'Content-Type' : 'multipart/form-data' },\n      body: JSON.stringify({id: book && book[0].backFileName})\n    })\n    .then(async res => res.blob([res.data], {type: 'application/pdf'}))\n    .then(data => download(data, `${book && book[1]}.pdf`))\n    \n  }\n\n  return (\n    <div className='background flex_center flex_column pub_book'>\n      <div className='bookWindow flex coverBig'>\n        <div className=\"mr-3\">\n          <img className='imgCover' src={book && book[0].cover} alt={book && book[0].title} />\n        </div>\n        <div className='bookInfo'>\n          <h3 className='color_dark titleBook' >{book && book[0].title}</h3>\n          <h5 className='color_dark authorBook' >{book && book[0].bookauthor}</h5>\n          <div className='summaryBook color_dark mt-5' >{book && book[0].description}</div>\n        </div>\n      </div>\n\n      <div className='buttonList'>\n        <Link to={`/user/edit/${params.id}`}><button className='button buttonBook butlist mr-3' >Изменить</button></Link>\n        <button onClick={deleteBook} className='button buttonBook butlist' >Удалить</button>\n      </div>\n\n      <div className='buttonList pub_book_btn_box'>\n        <button onClick={downloadPdf} className='button buttonBook butlist mr-3' >Скачать</button>\n        <Link to={`/user/pub/${book && book[1]}/read`}><button className='button buttonBook butlist' >Читать фрагмент</button></Link>\n      </div>\n    </div>\n  );\n}\nexport default PublishedBook;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport firebase from 'firebase'\nimport '../InfoBook/InfoBook'\n\nfunction BoughtBook(props) {\n  const params = useParams()\n  const [book, setBook] = useState(null)\n\n  useEffect(() => {\n    firebase.firestore()\n      .collection('books')\n      .doc(params.id)\n      .get()\n      .then(book1 => {\n        if (book1.exists)\n          setBook(book1.data())\n      })\n\n  }, [setBook])\n  return (\n    <div className='background flex_center flex_column'>\n      <div className='bookWindow flex coverBig'>\n        <div className=\"mr-3\">\n          <img className='imgCover' src={book?.cover} alt={book?.title} />\n        </div>\n        <div className='bookInfo'>\n          <h3 className='color_dark titleBook' >{book?.title}</h3>\n          <h5 className='color_dark authorBook' >{book?.bookauthor}</h5>\n          <div className='summaryBook color_dark mt-5' >{book?.description}</div>\n        </div>\n      </div>\n      <div className='buttonList'>\n        <button className='button buttonBook butlist mr-3' >Читать</button>\n        <button className='button buttonBook butlist' >Скачать</button>\n      </div>\n    </div>\n  );\n}\n\nexport default BoughtBook;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom'\nimport './Reader.scss'\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport { fetchGetFile } from '../../redux/reduxThunk/asyncFunc'\nimport firebase from 'firebase'\nimport { useDispatch, useSelector } from 'react-redux'\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\n\nexport default function Reader() {\n\n  const params = useParams()\n  const [book, setBook] = useState(null)\n\n  const dispatch = useDispatch()\n  const { file } = useSelector(state => state)\n\n  const [showFrom, setShowFrom] = useState(null);\n  const [showTo, setShowTo] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n\n  const [pageNumber, setPageNumber] = useState(1);\n  // const [file, setFile] = useState(null)\n\n  useEffect(() => {\n    \n    firebase.firestore()\n      .collection('books')\n      .doc(params.id)\n      .get()\n      .then(book1 => {\n        if (book1.exists)\n          setBook([book1.data(), book1.id])\n          dispatch(fetchGetFile(book1.data().backFileName))\n          console.log(book);\n          \n          setNumPages(Number(book1.data().demo[1]))\n          setPageNumber(Number(book1.data().demo[0]))\n          setShowFrom(Number(book1.data().demo[0]))\n          setShowTo(Number(book1.data().demo[1]))\n      })\n\n  }, [])\n    \n  //   // fetch('http://localhost:4000/read', {\n  //   //   method: 'POST',\n  //   //   responseType: 'blob',\n  //   //   headers: { 'Content-Type': 'Application/json' },\n  //   //   // headers: { 'Content-Type' : 'multipart/form-data' },\n  //   //   body: JSON.stringify({id: id})\n  //   // })\n  //   // .then(async res => res.blob([res.data], {type: 'application/pdf'}))\n  //   // .then(data => setFile(data))\n\n  function onDocumentLoadSuccess({ numPages }) {\n    setNumPages(numPages);\n  }\n\n  function prev() {\n    setPageNumber((prev) => {\n      if (prev > showFrom) {\n        return prev - 2\n      } else {\n        return prev\n      }\n    })\n  }\n\n  function next() {\n    setPageNumber((prev) => {\n      if (prev < showTo) {\n        return prev + 2\n      } else {\n        return prev\n      }\n    })\n  }\n\n\n\n\n  function prevOne() {\n    setPageNumber((prev) => {\n      if (prev > showFrom) {\n        return prev - 1\n      } else {\n        return prev\n      }\n    })\n  }\n\n  function nextOne() {\n    setPageNumber((prev) => {\n      if (prev < showTo) {\n        return prev + 1\n      } else {\n        return prev\n      }\n    })\n  }\n\n\n\n\n\n  function lastPage(pageNumber) {\n    if (pageNumber < showTo) {\n      return pageNumber + 1\n    } else {\n      return null\n    }\n  }\n\n  function disabledChange() {\n    document.querySelector('.btn-one-page').classList.toggle('disabled')\n    document.querySelector('.btn-two-pages').classList.toggle('disabled')\n    document.querySelector('.one-page').classList.toggle('box-invisible')\n    document.querySelector('.two-pages').classList.toggle('box-invisible')\n  }\n\n  return (\n    <div className='background flex_center flex_column'>\n      <Link to={`/user/pub/${book && book[1]}`} className=\"reader_button\"><button className='button' >Назад</button></Link>\n      <div className=\"reader_button_box\">\n        <button onClick={disabledChange} className='button btn-one-page mr-4' >Показывать одну страницу</button>\n        <button onClick={disabledChange} className='button btn-two-pages mr-4 disabled' >Показывать две страницы</button>\n      </div>\n\n      <div className=\"two-pages\">\n        <div className='flex_center'>\n          <button className=\"reader-prev reader-btn\" onClick={prev}>&#8249;</button>\n          <Document className=\"page\"\n            file={file}\n            // onLoadSuccess={onDocumentLoadSuccess}\n          >\n            <Page pageNumber={pageNumber} />\n          </Document>\n\n          <Document className=\"page\"\n            file={file}\n            // onLoadSuccess={onDocumentLoadSuccess}\n          >\n            <Page pageNumber={lastPage(pageNumber)} />\n          </Document>\n          <button className=\"reader-next reader-btn\" onClick={next}>&#8250;</button>\n        </div>\n        <p className=\"flex_center reader__pages-count\">Page{pageNumber <  showTo ? `s ${pageNumber}-${pageNumber + 1}` : ` ${pageNumber}`} of {numPages}</p>\n      </div>\n\n      <div className=\"one-page box-invisible\">\n        <div className='flex_center'>\n          <button className=\"reader-prev reader-btn\" onClick={prevOne}>&#8249;</button>\n          <Document className=\"page\"\n            file={file}\n            // onLoadSuccess={onDocumentLoadSuccess}\n          >\n            <Page pageNumber={pageNumber} />\n          </Document>\n\n          <button className=\"reader-next reader-btn\" onClick={nextOne}>&#8250;</button>\n        </div>\n        <p className=\"flex_center reader__pages-count\">Page {pageNumber} of {numPages}</p>\n      </div>\n      \n    </div>\n  );\n}\n","import React from 'react'\nimport {fetchAddFile} from '../../redux/reduxThunk/asyncFunc'\nimport { useDispatch} from 'react-redux'\n\nexport default function TestUpload() {\n  const dispatch = useDispatch()\n\n  function saveFile(e) {\n    console.log(e.target.file.files[0]);\n\n    // let myForm = document.getElementById('addPdfForm');\n    // const formData = new FormData(myForm);\n\n    // for (let [key, value] of formData.entries()) { \n    //   console.log(key, value);\n    // }\n\n    let formData = new FormData()\n    formData.append('file', e.target.file.files[0])\n    \n    // fetch('http://localhost:4000/testupl', {\n    //   method: 'POST',\n    //   body: formData\n    // })\n    // .then(res => res.json())\n    // .then(data => console.log(data))\n    dispatch(fetchAddFile(formData))\n    e.preventDefault()\n\n\n\n  }\n\n  return (\n    <div className=\"background flex_center\">\n      <form id=\"addPdfForm\" encType=\"multipart/form-data\" method=\"post\" action=\"/testupl\" onSubmit={(e) => saveFile(e)}>\n        <div className=\"private\">Сначала выберите файл, затем нажмите Добавить</div>\n        <div className=\"private flex-column\">\n          <input id=\"file\" className=\"file\" type=\"file\" name=\"upload\" accept=\"application/pdf\" />\n          <input className=\"button\" type=\"submit\" value=\"Добавить\" />\n        </div>\n      </form>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport firebase from 'firebase'\nimport { Link } from 'react-router-dom'\nimport Slider from \"react-slick\";\n// import zaglushka from './zaglushka'\nimport './BooksList.scss'\n\n// import \"slick-carousel/slick/slick.css\";\n// import \"slick-carousel/slick/slick-theme.css\";\n\n\nfunction BooksList(props) {\n\n  const settings = {\n    dots: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: Math.ceil(document.documentElement.clientWidth / 300),\n    slidesToScroll: Math.ceil(document.documentElement.clientWidth / 300)\n  };\n  \n  // const [id, setId] = useState('')\n  const [books, setBooks] = useState([])\n\n  useEffect(() => {\n    firebase.firestore()\n      .collection('books')\n      .get()\n      .then((snap) => {\n        snap.forEach(doc => {\n          setBooks((prev) => [...prev, [doc.data(), doc.id]])\n          // setId((prev) => [...prev, doc.id])\n        })\n      })\n    }, [setBooks])\n    \n    return (\n      <div className=\"background bookslist\">\n        <h3>Новые книги</h3>\n      <Slider {...settings}>\n        {/* {console.log(id)} */}\n        {[...books]?.sort((a,b)=>b[0].timestamp - a[0].timestamp).map(el => {\n          return (\n            <div className=\"flex_center\" key={Math.random()}>\n              <Link to={`/books/${el[1]}`}><img className=\"slider-card_img\" src={el[0].cover} alt=\"book\" /></Link>\n              <h6 className=\"slider-card_title slider-text\">{el[0].title}</h6>\n              <h6 className=\"slider-card_author slider-text\">{el[0].bookauthor}</h6>\n            </div>\n          )\n        })}\n      </Slider>\n      <h3>Любимые книги наших читателей</h3>\n      <Slider {...settings}>\n        {console.log(books)}\n        {[...books]?.sort((a, b) => a[0].price - b[0].price)?.map(el => {\n          return (\n            <div className=\"flex_center\" key={Math.random()}>\n              <Link to={`/books/${el[1]}`}><img className=\"slider-card_img\" src={el[0].cover} alt=\"book\" /></Link>\n              <h6 className=\"slider-card_title slider-text\">{el[0].title}</h6>\n              <h6 className=\"slider-card_author slider-text\">{el[0].bookauthor}</h6>\n            </div>\n          )\n        })}\n      </Slider>\n    </div>\n  );\n}\n\nexport default BooksList;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom'\nimport { useParams } from 'react-router-dom'\nimport '../InfoBook/InfoBook'\nimport firebase from 'firebase'\nimport './Edit.scss'\n\nfunction Edit(props) {\n  const params = useParams()\n  const [book, setBook] = useState(null);\n  const history = useHistory()\n\n  const title = useRef();\n  const bookauthor = useRef();\n  const description = useRef();\n\n  function updateBook(e) {\n    e.preventDefault();\n\n    firebase.firestore()\n      .collection('books')\n      .doc(params.id)\n      .set({\n        title: title.current.value,\n        bookauthor: bookauthor.current.value,\n        description: description.current.value\n      }, { merge: true })\n      history.push('/user')\n  }\n\n  useEffect(() => {\n    firebase\n      .firestore()\n      .collection('books')\n      .doc(params.id)\n      .get()\n      .then(req => setBook(req.data()))\n\n  }, [])\n\n  return (\n    <div className='background flex_center flex_column'>\n      <div className='bookWindow flex coverBig'>\n        <div className=\"mr-3\">\n          <img className='imgCover' src={book?.cover} alt={book?.title} />\n        </div>\n        <form onSubmit={updateBook} className='formAddBook' >\n          <input ref={title} className='auth input mb-1 wide-input color-light' name='title' type='text' required defaultValue={book?.title} placeholder='Название книги' />\n          <input ref={bookauthor} className='auth input mb-1 wide-input color-light' name='bookauthor' type='text' required defaultValue={book?.bookauthor} placeholder='Автор' />\n          <textarea ref={description} className='auth input mb-1 input-textarea wide-input color-light' name='description' required defaultValue={book?.description} type='text' placeholder='Описание' ></textarea>\n          {/* <Link to='/user'> */}\n          <button type=\"submit\" className='button buttonBook butlist' >Сохранить изменения</button>\n          {/* </Link> */}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Edit;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route, useHistory } from \"react-router-dom\";\nimport Header from '../Header/Header'\nimport Login from '../Login/Login'\nimport SignUp from '../SignUp/SignUp'\nimport User from '../User/User'\nimport Footer from '../Footer/Footer';\nimport ProjectTeam from '../ProjectTeam/ProjectTeam'\nimport MainUp from '../MainUp/MainUp'\nimport MainDown from '../MainDown/MainDown'\nimport './App.scss'\nimport AddBook from '../AddBook/AddBook'\nimport InfoBook from \"../InfoBook/InfoBook\"\nimport PublishedBook from \"../PublishedBook/PublishedBook\"\nimport BoughtBook from \"../BoughtBook/BoughtBook\"\nimport Reader from '../Reader/Reader'\nimport TestUpload from '../TestUpload/TestUpload'\nimport BooksList from '../BooksList/BooksList'\nimport Edit from '../Edit/Edit'\nimport { Provider } from 'react-redux'\nimport store from '../../redux/store'\n\nfunction App() {\n\n  const history = useHistory()\n \n  return (\n    <Provider store={store}>\n      <Router>\n        <div>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\">\n              <MainUp />\n              <MainDown />\n            </Route>\n            <Route path=\"/login\">\n              <Login />\n            </Route>\n            <Route path=\"/signup\">\n              <SignUp />\n            </Route>\n            <Route exact path=\"/user\">\n              <User />\n            </Route>\n            <Route path=\"/:id/addbook\">\n              <AddBook />\n            </Route>\n            <Route path=\"/projectTeam\">\n              <ProjectTeam />\n            </Route>\n            <Route path=\"/books/:id\">\n              <InfoBook />\n            </Route>\n            <Route exact path=\"/user/pub/:id\">\n              <PublishedBook />\n            </Route>\n            <Route path=\"/user/bought/:id\">\n              <BoughtBook />\n            </Route>\n            <Route path=\"/user/edit/:id\">\n              <Edit />\n            </Route>\n            <Route path=\"/reader\">\n              <Reader />\n            </Route>\n            <Route path=\"/books\">\n              <BooksList />\n            </Route>\n            <Route path=\"/user/pub/:id/read\">\n              <Reader />\n            </Route>\n            <Route path=\"/testupl\">\n              <TestUpload />\n            </Route>\n          </Switch>\n          <Footer />\n        </div>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App/App';\n// import 'bootstrap/dist/css/bootstrap.css';\nimport { AuthProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.Fragment>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}